@startuml BCE_KHO

left to right direction

skinparam backgroundColor white
skinparam shadowing false

skinparam boundary {
    BackgroundColor #FFFFCC
    BorderColor #000000
}
skinparam control {
    BackgroundColor #FFFFCC
    BorderColor #000000
}
skinparam entity {
    BackgroundColor #FFFFCC
    BorderColor #000000
}

title BIỂU ĐỒ LỚP BCE - MODULE QUẢN LÝ KHO

' ========== ACTOR ==========
actor "Nhân Viên Kho\n(from Actor)" as Staff

' ========== BOUNDARY ==========
boundary "W_StockPage\n(from Lớp Biên)" as B_StockPage
note bottom of B_StockPage
  <color:blue>◉</color>displayInventory
  <color:blue>◉</color>displayStockAlerts
  <color:purple>◆</color>handleStockUpdate()
  <color:purple>◆</color>showTransactionHistory()
end note

boundary "W_StockAPI\n(from Lớp Biên)" as B_StockAPI
note bottom of B_StockAPI
  <color:blue>◉</color>GET /stock
  <color:blue>◉</color>POST /stock/import
  <color:purple>◆</color>getInventory()
  <color:purple>◆</color>importStock()
end note

' ========== CONTROL ==========
control "C_StockController\n(from Lớp Điều Khiển)" as C_StockCtrl
note bottom of C_StockCtrl
  <color:purple>◆</color>getInventory()
  <color:purple>◆</color>importStock()
  <color:purple>◆</color>exportStock()
  <color:purple>◆</color>adjustStock()
  <color:purple>◆</color>getTransactions()
  <color:purple>◆</color>getLowStockAlerts()
end note

control "C_StockService\n(from Lớp Điều Khiển)" as C_StockSvc
note bottom of C_StockSvc
  <color:purple>◆</color>validateStockData()
  <color:purple>◆</color>updateProductStock()
  <color:purple>◆</color>createTransaction()
  <color:purple>◆</color>checkLowStock()
  <color:purple>◆</color>sendLowStockAlert()
end note

' ========== ENTITY ==========
entity "StockTransaction\n(from Lớp Thực Thể)" as E_StockTxn
note bottom of E_StockTxn
  <color:blue>◉</color>id: UUID
  <color:blue>◉</color>productId: UUID
  <color:blue>◉</color>userId: UUID
  <color:blue>◉</color>type: StockTransactionType
  <color:blue>◉</color>quantity: Integer
  <color:blue>◉</color>reason: String
  <color:blue>◉</color>stockBefore: Integer
  <color:blue>◉</color>stockAfter: Integer
  <color:blue>◉</color>createdAt: DateTime
  ────────────
  <color:purple>◆</color>createTransaction()
  <color:purple>◆</color>getHistory()
end note

entity "Product\n(from Lớp Thực Thể)" as E_Product
note bottom of E_Product
  <color:blue>◉</color>id: UUID
  <color:blue>◉</color>name: String
  <color:blue>◉</color>stock: Integer
  <color:blue>◉</color>minStock: Integer
  <color:blue>◉</color>maxStock: Integer
  ────────────
  <color:purple>◆</color>updateStock()
  <color:purple>◆</color>checkLowStock()
end note

' ========== RELATIONSHIPS ==========
Staff --> B_StockPage
B_StockPage --> C_StockCtrl
B_StockAPI --> C_StockCtrl
C_StockCtrl --> C_StockSvc
C_StockSvc --> E_StockTxn
E_StockTxn --> E_Product

@enduml
